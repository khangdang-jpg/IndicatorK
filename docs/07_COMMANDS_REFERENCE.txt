â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    IndicatorK - Quick Reference                          â•‘
â•‘                  Vietnamese Trading Bot on GitHub Actions                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ TABLE OF CONTENTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

START HERE              â†’ START_HERE.md              (5-step quick start)
Detailed Deployment     â†’ DEPLOY.md                  (complete guide)
Setup Instructions      â†’ SETUP.md                   (technical details)
Telegram Bot Help       â†’ TELEGRAM_SETUP.txt         (bot creation)
Deployment Checklist    â†’ CHECKLIST.txt              (printable form)
Project Overview        â†’ PROJECT_SUMMARY.md         (what was built)
Architecture Details    â†’ README.md & PLAN.md        (how it works)


ğŸš€ QUICK START (30 minutes)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Create Telegram Bot (5 min)
   â€¢ Open Telegram â†’ message @BotFather
   â€¢ Send /newbot
   â€¢ Save BOT TOKEN and CHAT ID

2. Test Locally (10 min)
   export TELEGRAM_BOT_TOKEN="your-token"
   export TELEGRAM_ADMIN_CHAT_ID="your-chat-id"
   cd /Users/khangdang/IndicatorK
   make test                    # Should show: 101 passed âœ“
   make run_weekly_once         # Should receive Telegram message

3. Deploy to GitHub (10 min)
   git init && git add . && git commit -m "Initial commit"
   git remote add origin https://github.com/YOUR_USERNAME/IndicatorK.git
   git push -u origin main

4. Add GitHub Secrets (5 min)
   Settings â†’ Secrets and variables â†’ Actions
   â€¢ TELEGRAM_BOT_TOKEN
   â€¢ TELEGRAM_ADMIN_CHAT_ID

5. Verify (5 min)
   Actions tab â†’ Weekly Plan â†’ Run workflow
   Check Telegram for message âœ“


ğŸ“ PROJECT STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

src/                    Core application logic
â”œâ”€â”€ models.py           Data models (OHLCV, Position, Plan, etc.)
â”œâ”€â”€ providers/          Data source layer (vnstock, HTTP, cache)
â”œâ”€â”€ strategies/         Strategy layer (trend_momentum_atr, rebalance_50_50)
â”œâ”€â”€ telegram/           Telegram bot (commands, alerts, formatting)
â”œâ”€â”€ portfolio/          Portfolio engine (trades â†’ positions â†’ PnL)
â”œâ”€â”€ guardrails/         Health monitoring (data quality + performance)
â””â”€â”€ utils/              Utilities (config, trading hours, CSV safety)

config/                 User-editable configuration
â”œâ”€â”€ providers.yml       Data source selection (primary/secondary/cache)
â”œâ”€â”€ strategy.yml        Strategy selection + parameters
â””â”€â”€ risk.yml            Risk thresholds for guardrails

data/                   Portfolio and state data
â”œâ”€â”€ trades.csv          Trade log (user entries)
â”œâ”€â”€ watchlist.txt       Symbol universe (edit this!)
â”œâ”€â”€ weekly_plan.json    Current trading plan
â”œâ”€â”€ guardrails_report.json   Health report
â”œâ”€â”€ portfolio_weekly.csv     Value history
â”œâ”€â”€ alerts_state.json        Alert dedup state
â”œâ”€â”€ bot_state.json          Bot polling state
â””â”€â”€ prices_cache.json       Price cache (fallback)

.github/workflows/      GitHub Actions automation
â”œâ”€â”€ alerts.yml          Every 5 min (trading hours)
â”œâ”€â”€ weekly.yml          Every Sunday 10 ICT
â””â”€â”€ bot.yml             Every 5 min (24/7)

tests/                  Unit tests (101 total, all passing)
â”œâ”€â”€ test_alert_dedup.py
â”œâ”€â”€ test_commands.py
â”œâ”€â”€ test_csv_safety.py
â”œâ”€â”€ test_portfolio.py
â”œâ”€â”€ test_providers.py
â”œâ”€â”€ test_strategies.py
â””â”€â”€ test_trading_hours.py


ğŸ’¬ TELEGRAM COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/buy SYMBOL QTY PRICE [asset=stock|bond|fund] [fee=N] [note=TEXT]
    Record a buy trade
    Example: /buy HPG 100 25000 fee=100 note=dividend

/sell SYMBOL QTY PRICE [asset=stock|bond|fund] [fee=N] [note=TEXT]
    Record a sell trade
    Example: /sell HPG 50 28000

/setcash AMOUNT
    Set cash balance
    Example: /setcash 10000000

/status
    View portfolio positions, allocation, PnL

/plan
    View current weekly plan

/help
    Show all commands


âš™ï¸ CUSTOMIZE (No Code Changes!)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Change Data Source
    Edit: config/providers.yml
    primary: vnstock  â†’  http or cache

Change Strategy
    Edit: config/strategy.yml
    active: trend_momentum_atr  â†’  rebalance_50_50

Add Stock Symbols
    Edit: data/watchlist.txt
    Add one symbol per line

Adjust Risk Parameters
    Edit: config/risk.yml
    max_drawdown, benchmark_cagr_annual, etc.


ğŸ”„ AUTOMATED WORKFLOWS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Price Alerts
    Schedule: Every 5 min, Mon-Fri 09:00-15:00 (Vietnam time)
    What it does:
    â€¢ Checks current prices vs buy zones
    â€¢ Triggers stop loss / take profit alerts
    â€¢ Sends Telegram notifications
    â€¢ Early exits if outside trading hours (no network calls)

Weekly Plan
    Schedule: Every Sunday 10:00 AM (Vietnam time)
    What it does:
    â€¢ Fetches 52 weeks of price history
    â€¢ Generates new trading plan
    â€¢ Runs guardrails health check
    â€¢ Records portfolio snapshot
    â€¢ Sends weekly digest via Telegram

Bot Polling
    Schedule: Every 5 min, 24/7
    What it does:
    â€¢ Checks Telegram for /buy, /sell, /setcash commands
    â€¢ Appends to trades.csv
    â€¢ Prevents double-processing (idempotent)


ğŸ“Š KEY FEATURES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Zero Cost              GitHub Actions free tier + free APIs
Zero LLM              No ChatGPT calls, all logic rules-based
Config-Driven         Change strategies/providers via YAML
Modular              Clean separation of concerns
Monitored            Guardrails track data quality + performance
Tested               101 unit tests, all passing
Safe                 CSV injection prevention, symbol validation
Automatic            GitHub Actions, 0 manual intervention


âš ï¸ TRADING HOURS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Vietnam Stock Market (Ho Chi Minh Exchange)
â€¢ Monday - Friday: 09:00 - 11:30 and 13:00 - 15:00
â€¢ Timezone: Asia/Ho_Chi_Minh (UTC+7)
â€¢ No public holidays calendar (but workflows will handle gracefully)

Price alerts only run during these hours (early exit gate).
Other workflows (bot polling, weekly plan) run on schedule.


ğŸ› ï¸ MAKEFILE COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

make setup              Install dependencies
make test              Run all 101 unit tests
make run_alerts_once    Execute alerts check once (debug)
make run_weekly_once    Execute weekly plan once (debug)
make run_bot_once       Execute bot poll once (debug)


ğŸ“– DOCUMENTATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For...                              Read...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Quick deployment (5 steps)          START_HERE.md
Complete deployment guide           DEPLOY.md
Telegram bot creation               TELEGRAM_SETUP.txt
Technical setup details             SETUP.md
Printable checklist                 CHECKLIST.txt
What was built                      PROJECT_SUMMARY.md
Architecture & features             README.md
Implementation details              PLAN.md


ğŸ”§ TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tests fail?
    â†’ pip3 install -r requirements.txt
    â†’ make test

Bot doesn't respond?
    â†’ Check GitHub Secrets are correct
    â†’ Try sending /help

Alerts not working?
    â†’ Check it's Vietnam trading hours (9-15 Mon-Fri)
    â†’ Check Actions tab for error logs

Workflow failed?
    â†’ Check Actions tab
    â†’ Common: API timeout (normal, will retry)

Local run fails?
    â†’ Ensure env vars are set:
      export TELEGRAM_BOT_TOKEN="..."
      export TELEGRAM_ADMIN_CHAT_ID="..."


ğŸ“Š MONITORING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GitHub Actions (Automated)
    â€¢ Visit Actions tab â†’ see workflow runs
    â€¢ Check for green âœ“ or red âœ— status
    â€¢ Workflows auto-retry on failure

Telegram (Weekly)
    â€¢ Every Sunday 10 AM: receive trading plan
    â€¢ Check guardrails warnings (if any)
    â€¢ Review recommendations

Repository (Weekly)
    â€¢ data/weekly_plan.json â€” current plan
    â€¢ data/guardrails_report.json â€” health metrics
    â€¢ data/portfolio_weekly.csv â€” value history
    â€¢ data/trades.csv â€” all your trades


ğŸ“ SUPPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Read the relevant .md file above
2. Check CHECKLIST.txt if something fails
3. Review TROUBLESHOOTING section above
4. All code in src/ has clear module separation
5. 101 unit tests show expected behavior


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ready to deploy? Start with START_HERE.md

Good luck! ğŸš€
